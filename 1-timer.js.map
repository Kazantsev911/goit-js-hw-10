{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputData = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('[data-start]');\n\nconst timeElements = {\n  day: document.querySelector('[data-days]'),\n  hour: document.querySelector('[data-hours]'),\n  minute: document.querySelector('[data-minutes]'),\n  second: document.querySelector('[data-seconds]'),\n};\n\nlet userSelectedDate;\nlet interval;\nstartBtn.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  dateFormat: 'Y-m-d H:i',\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    checkDate(selectedDates);\n  },\n};\n\niziToast.settings({\n  resetOnHover: true,\n  icon: 'material-icons',\n  class: 'custom-toast',\n  icon: 'icon-person',\n  color: '#ef4040',\n  titleSize: '16px',\n  titleColor: '#fff',\n  titleLineHeight: '1.5',\n  messageColor: '#fff',\n  messageSize: '16px',\n  messageLineHeight: '1.5',\n  position: 'topRight',\n  progressBarColor: '#b51b1b',\n  theme: 'light',\n  progressBar: true,\n  timeout: 2500,\n  close: false,\n});\n\nconst currentTime = new Date();\n\nfunction checkDate(selectedDates) {\n  const selectedDate = selectedDates[0];\n  if (selectedDate < currentTime) {\n    iziToast.show({\n      title: 'Error',\n      message: 'Please choose a date in the future',\n    });\n  } else {\n    userSelectedDate = selectedDate;\n    startBtn.disabled = false;\n  }\n}\n\nflatpickr('#datetime-picker', options);\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction updateTimer() {\n  const now = new Date().getTime();\n  const timeRemaining = userSelectedDate.getTime() - now;\n  if (timeRemaining <= 0) {\n    clearInterval(interval);\n    startBtn.disabled = false;\n    inputData.disabled = false;\n    return;\n  } else {\n    timeElements.day.innerText = String(convertMs(timeRemaining).days).padStart(\n      2,\n      '0'\n    );\n    timeElements.hour.innerText = String(\n      convertMs(timeRemaining).hours\n    ).padStart(2, '0');\n    timeElements.minute.innerText = String(\n      convertMs(timeRemaining).minutes\n    ).padStart(2, '0');\n    timeElements.second.innerText = String(\n      convertMs(timeRemaining).seconds\n    ).padStart(2, '0');\n  }\n}\n\nfunction btnSelected() {\n  interval = setInterval(updateTimer, 1000);\n  startBtn.disabled = true;\n  inputData.disabled = true;\n}\n\nstartBtn.addEventListener('click', btnSelected);\n"],"names":["inputData","startBtn","timeElements","userSelectedDate","interval","options","selectedDates","checkDate","iziToast","currentTime","selectedDate","flatpickr","convertMs","ms","days","hours","minutes","seconds","updateTimer","now","timeRemaining","btnSelected"],"mappings":"0IAUA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAW,SAAS,cAAc,cAAc,EAEhDC,EAAe,CACnB,IAAK,SAAS,cAAc,aAAa,EACzC,KAAM,SAAS,cAAc,cAAc,EAC3C,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,OAAQ,SAAS,cAAc,gBAAgB,CACjD,EAEA,IAAIC,EACAC,EACJH,EAAS,SAAW,GAEpB,MAAMI,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,WAAY,YACZ,gBAAiB,EACjB,QAAQC,EAAe,CACrBC,EAAUD,CAAa,CACxB,CACH,EAEAE,EAAS,SAAS,CAChB,aAAc,GACd,KAAM,iBACN,MAAO,eACP,KAAM,cACN,MAAO,UACP,UAAW,OACX,WAAY,OACZ,gBAAiB,MACjB,aAAc,OACd,YAAa,OACb,kBAAmB,MACnB,SAAU,WACV,iBAAkB,UAClB,MAAO,QACP,YAAa,GACb,QAAS,KACT,MAAO,EACT,CAAC,EAED,MAAMC,EAAc,IAAI,KAExB,SAASF,EAAUD,EAAe,CAChC,MAAMI,EAAeJ,EAAc,CAAC,EAChCI,EAAeD,EACjBD,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,oCACf,CAAK,GAEDL,EAAmBO,EACnBT,EAAS,SAAW,GAExB,CAEAU,EAAU,mBAAoBN,CAAO,EAErC,SAASO,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASC,GAAc,CACrB,MAAMC,EAAM,IAAI,KAAM,EAAC,QAAO,EACxBC,EAAgBjB,EAAiB,QAAO,EAAKgB,EACnD,GAAIC,GAAiB,EAAG,CACtB,cAAchB,CAAQ,EACtBH,EAAS,SAAW,GACpBD,EAAU,SAAW,GACrB,MACJ,MACIE,EAAa,IAAI,UAAY,OAAOU,EAAUQ,CAAa,EAAE,IAAI,EAAE,SACjE,EACA,GACN,EACIlB,EAAa,KAAK,UAAY,OAC5BU,EAAUQ,CAAa,EAAE,KAC/B,EAAM,SAAS,EAAG,GAAG,EACjBlB,EAAa,OAAO,UAAY,OAC9BU,EAAUQ,CAAa,EAAE,OAC/B,EAAM,SAAS,EAAG,GAAG,EACjBlB,EAAa,OAAO,UAAY,OAC9BU,EAAUQ,CAAa,EAAE,OAC/B,EAAM,SAAS,EAAG,GAAG,CAErB,CAEA,SAASC,GAAc,CACrBjB,EAAW,YAAYc,EAAa,GAAI,EACxCjB,EAAS,SAAW,GACpBD,EAAU,SAAW,EACvB,CAEAC,EAAS,iBAAiB,QAASoB,CAAW"}